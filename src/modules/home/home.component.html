<div class="d-flex space-between">
    <div class="status-filter">
        <a
            (click)="setStatus(statusEnum.PlayingCompleted)"
            [class.selected]="paginationInfo.status === statusEnum.PlayingCompleted">
            <span class="filter-label">All Games</span>
            <span class="filter-counter">{{ gamesCount.all }}</span>
        </a>
        <a
            (click)="setStatus(statusEnum.Playing)"
            [class.selected]="paginationInfo.status === statusEnum.Playing">
            <span class="filter-label">Playing</span>
            <span class="filter-counter">{{ gamesCount.playing }}</span>
        </a>
        <a
            (click)="setStatus(statusEnum.Completed)"
            [class.selected]="paginationInfo.status === statusEnum.Completed">
            <span class="filter-label">Completed</span>
            <span class="filter-counter">{{ gamesCount.completed }}</span>
        </a>
        <a
            (click)="setStatus(statusEnum.Shelved)"
            [class.selected]="paginationInfo.status === statusEnum.Shelved">
            <span class="filter-label">Shelved</span>
            <span class="filter-counter">{{ gamesCount.shelved }}</span>
        </a>
        <a
            (click)="setStatus(statusEnum.Backlog)"
            [class.selected]="paginationInfo.status === statusEnum.Backlog">
            <span class="filter-label">Backlog</span>
            <span class="filter-counter">{{ gamesCount.backlog }}</span>
        </a>
    </div>

    <sort-by
        [sort]="paginationInfo.sort"
        [sorts]="gameListSortBy"
        (onSelect)="setSortOnState($event)">
    </sort-by>
</div>

<div class="d-flex flex-wrap gap-8">
    @for (game of games; track $index) {
        <game-image [game]="game"> </game-image>
    }

    @if (isLoading$ | async) {
        @for (_ of skeletonArray; track $index) {
            <game-image-skeleton></game-image-skeleton>
        }
    }
</div>

@if (paginationInfo.total && games.length) {
    <ngb-pagination
        [page]="paginationInfo.page"
        [collectionSize]="paginationInfo.total"
        [pageSize]="paginationInfo.limit"
        (pageChange)="setPageOnState($event)"
        [maxSize]="5"
        [rotate]="true"
        [ellipses]="false"
        [boundaryLinks]="true"
        [directionLinks]="false">
        <ng-template ngbPaginationFirst>First</ng-template>
        <ng-template ngbPaginationLast>Last</ng-template>
    </ngb-pagination>
}
